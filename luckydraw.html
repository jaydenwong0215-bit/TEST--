<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>ç¾é‡‘æŠ½å¥¬ï¼šå¹´è³‡ä¸€å¹´ä»¥ä¸Š</title>
    

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ§§ æ¥Šæé‡‘æ’ˆç”œå“å¹´çµ‚å¤§æŠ½ç | Golden Mix Year-End Lucky Draw ğŸ§§</title>
    <style>
        /* --- åŸºç¤è¨­å®š --- */
        body { 
            margin: 0; 
            padding: 20px; 
            background-color: #fff5eb; /* æš–è‰²èƒŒæ™¯ */
            background-image: radial-gradient(#e85a1b 0.5px, transparent 0.5px), radial-gradient(#e85a1b 0.5px, #fff5eb 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif; 
            overflow-x: hidden; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        .container { 
            max-width: 600px; 
            margin: 0 auto; 
            background: white; 
            padding: 40px 25px; 
            border-radius: 24px; 
            box-shadow: 0 10px 40px rgba(232, 90, 27, 0.15); 
            text-align: center; 
            border: 4px solid #e85a1b; /* ä¸»é¡Œè‰²é‚Šæ¡† */
            position: relative;
            overflow: hidden;
        }

        /* è£é£¾è§’è½ */
        .container::before {
            content: "âœ¨"; position: absolute; top: 15px; left: 15px; font-size: 24px; opacity: 0.6; color: #f1c40f;
        }
        .container::after {
            content: "âœ¨"; position: absolute; top: 15px; right: 15px; font-size: 24px; opacity: 0.6; color: #f1c40f;
        }
        
        /* æ¨™é¡Œå€åŸŸå„ªåŒ– */
        .title-area {
            margin-bottom: 25px;
            border-bottom: 2px dashed #ffe0cc;
            padding-bottom: 25px;
        }

        .company-name {
            display: block;
            font-size: clamp(36px, 10vw, 56px); /* éŸ¿æ‡‰å¼è¶…å¤§å­—é«” */
            font-weight: 900;
            color: #e85a1b;
            letter-spacing: 4px;
            line-height: 1.2;
            text-shadow: 
                3px 3px 0px #ffeaa7,
                6px 6px 0px rgba(232, 90, 27, 0.1);
            margin-bottom: 15px;
        }

        .event-name {
            display: block;
            font-size: 28px; /* ç¨å¾®åŠ å¤§ä¸­æ–‡ */
            color: #d35400;
            font-weight: bold;
            letter-spacing: 2px;
            margin-bottom: 5px;
        }
        
        .sub-title {
            display: block;
            font-size: 22px; /* å¤§å¹…å¢åŠ è‹±æ–‡å¤§å° */
            margin-top: 8px; 
            font-weight: 800; /* åŠ ç²— */
            color: #e85a1b; /* ä½¿ç”¨æ›´é®®è±”çš„ä¸»é¡Œè‰² */
            opacity: 1; /* ç§»é™¤é€æ˜åº¦ */
            letter-spacing: 1.5px;
            text-transform: uppercase; /* æ”¹ç‚ºå…¨å¤§å¯«ï¼Œæ›´é¡¯çœ¼ */
            font-family: "Arial Black", "Helvetica Neue", sans-serif;
        }

        h3 { 
            color: #d35400; 
            font-size: 18px; 
            margin-top: 25px; 
            margin-bottom: 10px; 
            text-align: left; 
            padding-left: 15px; 
            border-left: 5px solid #e85a1b; 
            background: linear-gradient(90deg, #fff5eb 0%, transparent 100%);
            padding-top: 5px;
            padding-bottom: 5px;
            border-radius: 0 10px 10px 0;
        }
        
        textarea { 
            width: 90%; 
            height: 100px; 
            margin-bottom: 15px; 
            border: 2px solid #ffe0cc; 
            border-radius: 16px; 
            padding: 15px; 
            font-size: 16px; 
            resize: none; 
            background-color: #fffbf7;
            transition: 0.3s;
            color: #555;
        }
        textarea:focus { 
            outline: none; 
            border-color: #e85a1b; 
            background: #fff; 
            box-shadow: 0 0 0 4px rgba(232, 90, 27, 0.1);
        }

        .draw-btn { 
            background: linear-gradient(135deg, #e85a1b 0%, #d35400 100%); 
            color: #fff; 
            border: 2px solid #ffeaa7; /* é‡‘é‚Š */
            padding: 20px 40px; 
            font-size: 26px; 
            border-radius: 50px; 
            cursor: pointer; 
            font-weight: bold; 
            width: 90%; 
            box-shadow: 0 8px 15px rgba(232, 90, 27, 0.3); 
            margin-top: 15px; 
            -webkit-appearance: none; 
            transition: transform 0.1s, box-shadow 0.1s;
            position: relative;
            overflow: hidden;
        }
        
        /* æŒ‰éˆ•å…‰æ¾¤æ„Ÿ */
        .draw-btn::after {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 50%;
            background: linear-gradient(rgba(255,255,255,0.2), transparent);
            border-radius: 50px 50px 0 0;
            pointer-events: none;
        }

        .draw-btn:active { 
            transform: translateY(3px); 
            box-shadow: 0 4px 5px rgba(232, 90, 27, 0.2); 
        }
        
        .export-btn { 
            background: #fff; 
            color: #e85a1b; 
            border: 2px solid #e85a1b; 
            padding: 12px 20px; 
            font-size: 16px; 
            border-radius: 12px; 
            cursor: pointer; 
            width: 90%; 
            margin-top: 20px; 
            font-weight: bold;
            transition: 0.2s;
        }
        .export-btn:active { background: #fff5eb; }

        /* --- æ­·å²ç´€éŒ„ --- */
        #history { margin-top:35px; text-align:left; border-top: 2px dashed #ffcca8; padding-top:25px; }
        #historyList { list-style: none; padding: 0; margin: 0; max-height: 300px; overflow-y: auto; }
        .history-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: #fff; 
            border: 1px solid #ffe0cc; 
            border-left: 4px solid #e85a1b;
            padding: 15px; 
            margin-bottom: 12px; 
            border-radius: 12px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.03);
        }
        .h-info strong { color: #e85a1b; font-size: 18px; }
        .h-btn { background: #555; color: white; border-radius: 20px; padding: 6px 15px; font-size: 14px; border:none; cursor: pointer; opacity: 0.8;}

        /* --- éœ‡æ’¼å…¨è¢å¹•é®ç½© --- */
        #overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            /* ä½¿ç”¨ä¸»é¡Œè‰²æ¼¸å±¤ */
            background: radial-gradient(circle at center, #e85a1b 0%, #a0300b 100%);
            display: none; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;     
            z-index: 9999; 
            overflow: hidden;
        }
        #overlay.show { display: flex; }

        /* å½ˆè·³å‹•ç•« Keyframes */
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            70% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .result-container {
            position: relative;
            z-index: 10;
            text-align: center;
            width: 100%;
            padding: 20px;
        }

        /* æ–°å¢ Congratulations æ¨£å¼ */
        .congrats-text {
            font-family: 'Arial Black', sans-serif;
            color: #ffeaa7; /* æ·ºé‡‘è‰² */
            font-size: clamp(24px, 6vw, 40px);
            letter-spacing: 4px;
            margin-bottom: 20px;
            text-transform: uppercase;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: popIn 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        /* æ¥µè‡´é¡¯çœ¼çš„çé …æ–‡å­— */
        .prize-value { 
            font-size: clamp(60px, 15vw, 130px); 
            font-weight: 900; 
            color: #FFD700; /* æ­£é‡‘è‰² */
            margin: 0 0 20px 0;
            line-height: 1.1;
            text-shadow: 
                3px 3px 0px #b86e00, 
                6px 6px 0px rgba(0,0,0,0.4),
                0 0 40px rgba(255, 215, 0, 0.5);
            
            animation: popIn 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            font-family: "Arial Black", "Heiti TC", sans-serif;
        }
        
        /* æ¥µè‡´é¡¯çœ¼çš„ä¸­çäºº - é è¨­ (è‹±æ–‡/é•·åé©ç”¨) */
        .winner-text { 
            font-size: clamp(40px, 10vw, 90px); 
            font-weight: 900; 
            color: #ffffff;
            margin: 0; 
            line-height: 1.2; 
            word-break: break-word;
            text-shadow: 
                0 4px 0 #a0300b, 
                0 8px 20px rgba(0,0,0,0.5);
            
            opacity: 0; 
            animation: popIn 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            animation-delay: 0.5s; 
        }

        /* é‡å°ä¸­æ–‡åå­—çš„ç‰¹åˆ¥æ”¾å¤§æ¨£å¼ */
        .winner-text.is-chinese {
            font-size: clamp(80px, 25vw, 160px) !important; /* ä¸­æ–‡åå­—ç‰¹å¤§ */
        }
        
        .winner-label-small {
            color: rgba(255,255,255,0.9);
            font-size: 18px;
            margin-bottom: 5px;
            letter-spacing: 3px;
            animation: popIn 1.2s forwards;
            animation-delay: 0.5s;
            opacity: 0;
        }

        .tap-close { 
            position: absolute; 
            bottom: 40px; 
            color: rgba(255,255,255,0.6); 
            font-size: 14px; 
            border: 1px solid rgba(255,255,255,0.4); 
            padding: 10px 30px; 
            border-radius: 50px; 
            background: rgba(0,0,0,0.2);
            z-index: 20;
            cursor: pointer;
        }

        /* æ…¶ç¥å…ƒç´  */
        .confetti { position: absolute; font-size: 30px; pointer-events: none; animation: fall 4s linear forwards; z-index: 5; }
        @keyframes fall { 
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="title-area">
        <div class="company-name">æ¥Šæé‡‘æ’ˆç”œå“</div>
        <div class="event-name">ğŸ® å¹´çµ‚å¤§æŠ½ç ğŸ®</div>
        <div class="sub-title">GOLDEN MIX YEAR-END LUCKY DRAW</div>
    </div>
    <p style="color:#d35400; font-size:14px; font-weight: bold; margin-top: 5px;">ğŸŠ æ–°å¹´é€²æ­¥ Â· è¬äº‹å¦‚æ„ ğŸŠ</p>
    
    <h3>1. åƒèˆ‡åå–® (<span id="nameCount">0</span> äºº)</h3>
    <textarea id="nameList"></textarea>

    <h3>2. ç¦®ç‰©æ¸…å–® (<span id="giftCount">0</span> ä»½)</h3>
    <textarea id="giftList"></textarea>

    <button class="draw-btn" onclick="startDraw()">ğŸ§§ æ­æ›‰å¾—çè€… ğŸ§§</button>
    <button class="export-btn" onclick="exportResults()">ğŸ“Š åŒ¯å‡ºå®Œæ•´å¾—çè¡¨</button>
    
    <div id="history">
        <ul id="historyList"></ul>
    </div>
</div>

<!-- ä¸­çé®ç½© -->
<div id="overlay" onclick="closeOverlay()">
    <div class="result-container">
        <!-- æ–°å¢ Congratulations -->
        <div class="congrats-text">âœ¨ CONGRATULATIONS âœ¨</div>

        <!-- çé … -->
        <div class="prize-value" id="resGift">MOP 8,888</div>
        
        <!-- è£é£¾å°å­— -->
        <div class="winner-label-small">æ­å–œå¹¸é‹å…’</div>
        
        <!-- å¾—çè€… -->
        <div class="winner-text" id="resName">ç‹å¤§æ˜</div>
    </div>
    
    <div class="tap-close">é»æ“Šä»»æ„è™•ç¹¼çºŒ</div>
</div>

<script>
    // é è¨­æ•¸æ“š
    const DEFAULT_NAMES = [
        "UY ERNESTO JR. ZARATE", "SORIANO AMELYN AUSTRIA", "VILLACERAN ARMANDO ROSADENIO", "é»ƒéŒ¦è", "DE LA CRUZ HAZEL SADJE", 
        "CAUILAN ARMELYN TUMALIUAN", "GUMPAL HAZEL LUNA", "è¨±åŸ¹æ–‡", "æ—å°èŠ³", "SUYAT JOYCELLE CACAL", 
        "ç”˜å°ç…‰", "é»ƒä¿Šè¶…", "æ¨Šå˜‰æ¬£", "TUMALIUAN AMARCHSON ABANA", "é„§é•·å¨£", 
        "é„­æ–‡å‚‘", "MENDOZA LAURA ALDAYA", "BANEZ LARRY CABREROS", "VILLAMAR KING ALDWIN DRACULAN", "å§šèŠ³æ°", 
        "RAMIREZ JUDE PATRICK YSULA", "éº¥æŸ³æŸ³", "LORENZANA LOURENCE JAKE AGLOSOLOS", "MAYANDOC CHRISTIAN ALLEN TORRES", "æ¢éŠ€è", 
        "æœæ°¸æ¨‚", "TORIO CHERRY MAE BERGANTINOS", "æ¢å‡ˆæ¨‚", "æ¢ç¾çŠ", "LAYAG DEXTER VELASCO", 
        "é¦®å»ºå„€", "CHEN JOHN CARLY", "VARGAS JAY KEE MURALLOS", "AGBAYANI JOSEPH CABANLIG", "UY JAMES BANATAO", 
        "MENDOZA GONZALO JR ALDAYA", "ESCANO JERICHO DIAZ", "è¨±åŸ¹å¾·", "å¼µç‰ç¼", "è˜‡æ›‰è¯", 
        "æ›¾å˜‰ç‡•", "ä¼ç´ ç", "é§±ç«‹å¨Ÿ", "é«˜ç‰å¸†", "å§šèŠ³ä¿Š", 
        "è¨±åŸ¹è»", "LAZARO KRISTINE", "å³æƒ æ•", "ONGSICO RODEL LACESTE", "æé‡‘ç‚³", 
        "æ¢é‡‘ç´…", "é¾æ…¶å¹³", "ULEP JIGJIG JOSAYAN", "æ­å…†å¡±", "å§šæµ·é¾", 
        "é»ƒå»ºè»", "éƒ­é †æœ‰", "CORPUZ JAYPEE VISNAR", "GERON JEROM GUMTANG", "æå®¶æœ—", 
        "é™³é·¹æš", "SIMAN JOE-ED LIRIO", "åš´ä¾ç²"
    ];
    
    const DEFAULT_GIFTS = [
        "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 4,000", "MOP 1,000", "MOP 4,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000",
        "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000",
        "MOP 2,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 5,000", "MOP 2,000", "MOP 3,000", "MOP 1,000", "MOP 1,000", "MOP 1,000",
        "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 5,000", "MOP 1,000", "MOP 3,000", "MOP 1,000", "MOP 2,000", "MOP 1,000",
        "MOP 2,000", "MOP 1,000", "MOP 3,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000",
        "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 1,000", "MOP 2,000", "MOP 1,000", "MOP 4,000", "MOP 3,000",
        "MOP 1,000", "MOP 1,000", "MOP 1,000"
    ];

    const nameInput = document.getElementById('nameList');
    const giftInput = document.getElementById('giftList');
    const historyList = document.getElementById('historyList');
    const overlay = document.getElementById('overlay');
    const resName = document.getElementById('resName');
    const resGift = document.getElementById('resGift');
    let winHistory = [];
    let confettiTimer = null; // ç”¨ä¾†æ§åˆ¶æ…¶ç¥å‹•ç•«çš„è¨ˆæ™‚å™¨

    window.onload = function() {
        nameInput.value = DEFAULT_NAMES.join('\n');
        giftInput.value = DEFAULT_GIFTS.join('\n');
        updateCounters();
    };

    nameInput.oninput = updateCounters;
    giftInput.oninput = updateCounters;

    function updateCounters() {
        const n = nameInput.value.split('\n').filter(x => x.trim() !== '').length;
        const g = giftInput.value.split('\n').filter(x => x.trim() !== '').length;
        document.getElementById('nameCount').innerText = n;
        document.getElementById('giftCount').innerText = g;
    }

    // æª¢æŸ¥æ˜¯å¦ç‚ºä¸­æ–‡åå­—
    function checkNameLanguage(name) {
        // ç°¡å–®åˆ¤æ–·ï¼šå¦‚æœåŒ…å«ä»»ä½•ä¸­æ–‡å­—ç¬¦
        if (/[\u4e00-\u9fa5]/.test(name)) {
            resName.classList.add('is-chinese');
        } else {
            resName.classList.remove('is-chinese');
        }
    }

    function startDraw() {
        const names = nameInput.value.split('\n').filter(x => x.trim() !== '');
        const gifts = giftInput.value.split('\n').filter(x => x.trim() !== '');

        if (names.length === 0 || gifts.length === 0) {
            alert("æŠ½ççµæŸï¼åå–®æˆ–ç¦®ç‰©å·²å…¨éƒ¨æŠ½å®Œã€‚");
            return;
        }

        const rIndex = Math.floor(Math.random() * names.length);
        const winner = names[rIndex];
        const gift = gifts[0];

        names.splice(rIndex, 1);
        gifts.shift();
        nameInput.value = names.join('\n');
        giftInput.value = gifts.join('\n');
        updateCounters();

        winHistory.push({ name: winner, gift: gift });
        const li = document.createElement("li");
        li.className = "history-item";
        li.innerHTML = `<div class="h-info"><strong>${winner}</strong><br><span style="color:#888; font-size:14px;">ç²å¾— ${gift}</span></div><button class="h-btn" onclick="reshow('${winner}', '${gift}')">è£œæ‹</button>`;
        historyList.prepend(li);

        // é‡ç½®å‹•ç•«
        const elements = [resName, resGift, document.querySelector('.congrats-text')];
        elements.forEach(el => {
            if(el) {
                el.style.animation = 'none';
                el.offsetHeight; 
                el.style.animation = null; 
            }
        });

        // è¨­å®šåå­—ä¸¦æª¢æŸ¥èªè¨€
        resName.innerText = winner;
        checkNameLanguage(winner);

        resGift.innerText = gift;
        overlay.classList.add('show');
        startConfettiLoop(); // é–‹å§‹ä¸é–“æ–·æ…¶ç¥
    }

    function reshow(w, g) {
        resName.innerText = w;
        checkNameLanguage(w); // è£œæ‹ä¹Ÿè¦æª¢æŸ¥èªè¨€
        resGift.innerText = g;
        
        // é‡ç½®å‹•ç•«
        const elements = [resName, resGift, document.querySelector('.winner-label-small'), document.querySelector('.congrats-text')];
        elements.forEach(el => {
            if(el) {
                el.style.animation = 'none';
                el.offsetHeight; 
                el.style.animation = ''; 
            }
        });

        overlay.classList.add('show');
        startConfettiLoop(); // é–‹å§‹ä¸é–“æ–·æ…¶ç¥
    }

    function closeOverlay() {
        overlay.classList.remove('show');
        stopConfettiLoop(); // åœæ­¢æ…¶ç¥
    }

    // --- ä¸é–“æ–·æ…¶ç¥æ§åˆ¶ ---
    function startConfettiLoop() {
        stopConfettiLoop();
        spawnConfettiBatch(50);
        confettiTimer = setInterval(() => {
            spawnConfettiBatch(5);
        }, 300);
    }

    function stopConfettiLoop() {
        if (confettiTimer) {
            clearInterval(confettiTimer);
            confettiTimer = null;
        }
        const c = document.querySelectorAll('.confetti');
        c.forEach(x => x.remove());
    }

    function spawnConfettiBatch(amount) {
        const items = ['ğŸ§§', 'ğŸ’°', 'âœ¨', 'ğŸ®', 'ğŸŠ', 'ğŸŠ'];
        for (let i = 0; i < amount; i++) {
            const c = document.createElement('div');
            c.className = 'confetti';
            c.innerText = items[Math.floor(Math.random() * items.length)];
            c.style.left = Math.random() * 95 + 'vw';
            c.style.fontSize = (Math.random() * 30 + 20) + 'px';
            c.style.animationDuration = (Math.random() * 3 + 3) + 's'; 
            c.style.top = "-60px";
            c.onanimationend = () => { c.remove(); };
            overlay.appendChild(c);
        }
    }

    function exportResults() {
        if (winHistory.length === 0) return;
        let txt = "ğŸ§§ æ¥Šæé‡‘æ’ˆå¹´çµ‚æŠ½çå¾—çåå–® ğŸ§§\n" + winHistory.map((h, i) => `${i+1}. ${h.name} - ${h.gift}`).join("\n");
        alert(txt);
    }
</script>
</body>
</html>
    
  </body>
  
</html>
